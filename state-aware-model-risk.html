<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Regime-Aware Model Risk Visualization | Hannah Attar</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- Top navigation -->
  <div class="topbar">
    <div class="topbar-inner">
      <a class="site-title" href="index.html">Hannah Attar</a>
      <div class="topnav">
        <a href="projects.html">Projects</a>
        <a href="experience.html">Experience</a>
        <a href="Attar_Resume_2025.pdf" target="_blank" rel="noopener">Resume</a>
      </div>
    </div>
  </div>

  <div class="detail">
    <a class="detail-back" href="projects.html">← Back to Projects</a>

    <header class="detail-hero">
      <div class="detail-kicker">Project Report</div>
      <h1 class="detail-title">Regime-Aware Model Risk Visualization</h1>
      <p class="detail-subtitle">
        Diagnosing how predictive reliability and decision behavior shift across volatility-driven market regimes (SPY, daily).
      </p>

      <div class="detail-meta">
        <div><span>Author:</span> Hannah Attar</div>
        <div><span>Asset:</span> SPY (daily, 2006–2025)</div>
        <div><span>Regimes:</span> Gaussian Mixture Model (ret5, vol10, vol20)</div>
        <div><span>Predictor:</span> Logistic Regression (ret5, vol20)</div>
        <div><span>Focus:</span> Confidence reliability + regime-conditional deployment</div>
      </div>

      <div class="detail-actions">
        <!-- IMPORTANT: Update this to the actual PDF filename/path once uploaded -->
        <a class="btn" href="Regime_Aware_Model_Risk_Visualization.pdf" target="_blank" rel="noopener">Download PDF →</a>
      </div>
    </header>

    <section class="detail-section">
      <h2>Abstract</h2>
      <p>
        Short-horizon equity return prediction is noisy, and models trained on pooled data can appear stable on average while behaving
        differently across market conditions. This project studies how predictive confidence and decision behavior vary across inferred
        market regimes and what that implies for deployment. Using daily SPY data, regimes are identified endogenously with a Gaussian
        Mixture Model (GMM) based on recent returns and realized volatility. A probabilistic logistic classifier is then evaluated
        out-of-sample by stratifying accuracy by confidence and regime. Finally, an illustrative strategy uses confidence filtering and
        regime-based deactivation to examine how selective deployment can alter drawdown and risk profiles, even when raw predictive
        performance is limited.
      </p>

      <div class="callout">
        <div class="callout-title">Highlights</div>
        <ul>
          <li>Inferred market regimes via GMM using <strong>(ret5, vol10, vol20)</strong> and summarized their volatility/return profiles.</li>
          <li>Evaluated a global probabilistic classifier and defined confidence as <strong>|p − 0.5|</strong>.</li>
          <li>Measured regime-conditional accuracy patterns and visualized regime separation in feature space.</li>
          <li>Constructed an out-of-sample deployment rule using confidence filtering and deactivation in a high-volatility regime.</li>
          <li>Included calibration diagnostics (probability distribution and Brier score) to avoid over-interpreting probabilities.</li>
        </ul>
      </div>
    </section>

    <section class="detail-section">
      <h2>Motivation</h2>
      <p>
        At the daily horizon, broad equity direction is a weak-signal problem. In that setting, small differences in predictive performance
        often do not map cleanly into economic outcomes. A more practical question is whether model outputs become more or less reliable under
        different market conditions, and whether deployment rules can respond to that variation.
      </p>
      <p>
        This project adopts a regime-aware view of model risk. If regimes occupy different regions of feature space, then a single global
        decision rule can operate under meaningfully different state distributions. The goal is to diagnose this heterogeneity and connect it
        to confidence reliability and deployment behavior.
      </p>
    </section>

    <section class="detail-section">
      <h2>Data and Setup</h2>

      <div class="grid-2">
        <div class="card">
          <div class="card-title">Dataset</div>
          <ul class="tight">
            <li><strong>Asset:</strong> SPY</li>
            <li><strong>Frequency:</strong> daily close-to-close</li>
            <li><strong>Sample:</strong> 2006–2025</li>
            <li><strong>Split:</strong> chronological train/test (70/30)</li>
          </ul>
        </div>

        <div class="card">
          <div class="card-title">Prediction target</div>
          <ul class="tight">
            <li><strong>Label:</strong> y<sub>t</sub> = 1 if next-day return &gt; 0</li>
            <li><strong>Output:</strong> p<sub>t</sub> = P(y<sub>t</sub>=1 | x<sub>t</sub>)</li>
            <li><strong>Confidence:</strong> |p<sub>t</sub> − 0.5|</li>
          </ul>
        </div>
      </div>

      <div class="grid-2" style="margin-top:14px;">
        <div class="card">
          <div class="card-title">Regime features (GMM)</div>
          <ul class="tight">
            <li><strong>ret5:</strong> 5-day cumulative return</li>
            <li><strong>vol10:</strong> 10-day realized volatility</li>
            <li><strong>vol20:</strong> 20-day realized volatility</li>
          </ul>
        </div>

        <div class="card">
          <div class="card-title">Classifier features</div>
          <p class="muted">
            The classifier is intentionally restricted to a low-dimensional input for interpretability and decision geometry visualization.
          </p>
          <ul class="tight">
            <li><strong>ret5</strong></li>
            <li><strong>vol20</strong></li>
          </ul>
        </div>
      </div>
    </section>

    <section class="detail-section">
      <h2>Method</h2>

      <div class="grid-2">
        <div class="card">
          <div class="card-title">Regime identification</div>
          <p class="muted">
            A Gaussian Mixture Model partitions observations into statistically distinct regimes using recent returns and volatility.
          </p>
          <ul class="tight">
            <li><strong>Model:</strong> Gaussian Mixture Model</li>
            <li><strong>Inputs:</strong> (ret5, vol10, vol20)</li>
            <li><strong>Output:</strong> regime label per day</li>
          </ul>
        </div>

        <div class="card">
          <div class="card-title">Prediction + confidence</div>
          <p class="muted">
            A global logistic model outputs next-day direction probabilities and a confidence score based on distance from 0.5.
          </p>
          <ul class="tight">
            <li><strong>Model:</strong> logistic regression</li>
            <li><strong>Inputs:</strong> (ret5, vol20)</li>
            <li><strong>Confidence:</strong> |p − 0.5|</li>
          </ul>
        </div>
      </div>

      <div class="card" style="margin-top:14px;">
        <div class="card-title">Deployment rule (illustrative)</div>
        <p class="muted" style="margin:0;">
          To connect diagnostics to economic outcomes, an out-of-sample strategy is constructed by (i) trading only when confidence exceeds
          a fixed threshold and (ii) deactivating the strategy in the highest-volatility regime. Transaction costs and financing constraints
          are omitted; results should be interpreted as gross-of-costs.
        </p>
      </div>
    </section>

    <section class="detail-section">
      <h2>Results</h2>

      <figure class="figure">
        <figcaption class="figcap">
          <strong>Figure 1.</strong> Inferred market regimes over time. The highest-volatility regime clusters around stress periods and is
          treated as a high-risk state for deployment.
        </figcaption>
        <img class="figimg" src="1.png" alt="Regime timeline">
      </figure>

      <figure class="figure">
        <figcaption class="figcap">
          <strong>Figure 2.</strong> Out-of-sample accuracy versus confidence decile, computed separately within each inferred regime.
          Accuracy patterns are regime-dependent, and bin-level variability is largest in the high-volatility regime.
        </figcaption>
        <img class="figimg" src="2.png" alt="Accuracy vs confidence by regime">
      </figure>

      <figure class="figure">
        <figcaption class="figcap">
          <strong>Figure 3.</strong> Out-of-sample strategy equity curve under confidence filtering and regime-based deactivation.
          The objective is not to claim persistent alpha, but to illustrate how selective deployment changes drawdown and volatility profiles.
        </figcaption>
        <img class="figimg" src="3.png" alt="Strategy equity curve">
      </figure>

      <figure class="figure">
        <figcaption class="figcap">
          <strong>Figure 4.</strong> Logistic probability field in (ret5, vol20) space with inferred regimes overlaid. Regimes occupy distinct
          regions of feature space, implying the same global decision rule operates under different state distributions.
        </figcaption>
        <img class="figimg" src="4.png" alt="Decision boundary with regimes">
      </figure>

      <figure class="figure">
        <figcaption class="figcap">
          <strong>Figure 5.</strong> Distribution of out-of-sample predicted probabilities. Probabilities are concentrated near the unconditional
          mean, consistent with probability compression at the daily horizon.
        </figcaption>
        <img class="figimg" src="5.png" alt="Predicted probability distribution">
      </figure>

      <div class="callout">
        <div class="callout-title">Key takeaways</div>
        <ul>
          <li><strong>Regime dependence:</strong> predictive reliability and outcomes vary across inferred market states.</li>
          <li><strong>Confidence as a filter:</strong> probabilities are compressed near 0.5, so thresholds are more defensible than probability ranking.</li>
          <li><strong>Deployment matters:</strong> regime-aware controls primarily alter drawdown and volatility profiles rather than improving raw accuracy.</li>
          <li><strong>Interpretation discipline:</strong> calibration diagnostics support conservative use of probabilistic outputs at the daily horizon.</li>
        </ul>
      </div>
    </section>

    <section class="detail-section">
      <h2>Calibration and Probability Compression</h2>
      <p>
        Predicted probabilities are tightly concentrated near the unconditional mean, consistent with probability compression when signal-to-noise
        is low. The out-of-sample Brier score is approximately 0.247, close to an uninformative baseline. These diagnostics suggest that the
        model’s probabilities are best interpreted as low-amplitude signals, reinforcing the use of confidence thresholds rather than
        probability ranking.
      </p>
    </section>

    <section class="detail-section">
      <h2>Notes on Interpretation</h2>
      <p>
        This project is intentionally conservative in its claims. Daily index direction is difficult to predict, and reliability varies across
        inferred regimes. The primary contribution is diagnostic: identifying regime-conditional patterns in confidence and illustrating how
        regime-aware deployment rules can meaningfully change the risk profile of model-driven decisions.
      </p>
    </section>

    <div class="footer">
      © <span id="y"></span> Hannah Attar
    </div>
  </div>

  <script>
    const y = document.getElementById("y");
    if (y) y.textContent = new Date().getFullYear();
  </script>

</body>
</html>
